diff --git a/node_modules/@livekit/components-core/dist/index.js b/node_modules/@livekit/components-core/dist/index.js
index 3e04d47..ebd3564 100644
--- a/node_modules/@livekit/components-core/dist/index.js
+++ b/node_modules/@livekit/components-core/dist/index.js
@@ -860,24 +860,33 @@ function findIndex(trackReference, trackReferences) {
   const indexToReplace = trackReferences.findIndex(
     (trackReference_) => getTrackReferenceId(trackReference_) === getTrackReferenceId(trackReference)
   );
-  if (indexToReplace === -1) {
-    throw new Error(
-      `Element not part of the array: ${getTrackReferenceId(
-        trackReference
-      )} not in ${flatTrackReferenceArray(trackReferences)}`
-    );
-  }
   return indexToReplace;
 }
 function swapItems(moveForward, moveBack, trackReferences) {
-  const indexToReplace = findIndex(moveForward, trackReferences);
-  const indexReplaceWith = findIndex(moveBack, trackReferences);
-  trackReferences.splice(indexToReplace, 1, moveBack);
-  trackReferences.splice(indexReplaceWith, 1, moveForward);
+  const indexForward = trackReferences.findIndex(
+    (tr) => getTrackReferenceId(tr) === getTrackReferenceId(moveForward)
+  );
+  const indexBack = trackReferences.findIndex(
+    (tr) => getTrackReferenceId(tr) === getTrackReferenceId(moveBack)
+  );
+  if (indexForward === -1 && indexBack !== -1) {
+    trackReferences.splice(indexBack, 1, moveForward);
+    return trackReferences;
+  }
+  if (indexForward !== -1 && indexBack === -1) {
+    trackReferences.splice(indexForward, 1, moveBack);
+    return trackReferences;
+  }
+  if (indexForward === -1 || indexBack === -1) {
+    return trackReferences;
+  }
+  trackReferences.splice(indexForward, 1, moveBack);
+  trackReferences.splice(indexBack, 1, moveForward);
   return trackReferences;
 }
 function dropItem(itemToDrop, list) {
   const indexOfElementToDrop = findIndex(itemToDrop, list);
+  if (indexOfElementToDrop === -1) return list;
   list.splice(indexOfElementToDrop, 1);
   return list;
 }
diff --git a/node_modules/@livekit/components-core/dist/index.mjs b/node_modules/@livekit/components-core/dist/index.mjs
index 7eb40e0..53d50af 100644
--- a/node_modules/@livekit/components-core/dist/index.mjs
+++ b/node_modules/@livekit/components-core/dist/index.mjs
@@ -726,24 +726,33 @@ function findIndex(trackReference, trackReferences) {
   const indexToReplace = trackReferences.findIndex(
     (trackReference_) => getTrackReferenceId(trackReference_) === getTrackReferenceId(trackReference)
   );
-  if (indexToReplace === -1) {
-    throw new Error(
-      `Element not part of the array: ${getTrackReferenceId(
-        trackReference
-      )} not in ${flatTrackReferenceArray(trackReferences)}`
-    );
-  }
   return indexToReplace;
 }
 function swapItems(moveForward, moveBack, trackReferences) {
-  const indexToReplace = findIndex(moveForward, trackReferences);
-  const indexReplaceWith = findIndex(moveBack, trackReferences);
-  trackReferences.splice(indexToReplace, 1, moveBack);
-  trackReferences.splice(indexReplaceWith, 1, moveForward);
+  const indexForward = trackReferences.findIndex(
+    (tr) => getTrackReferenceId(tr) === getTrackReferenceId(moveForward)
+  );
+  const indexBack = trackReferences.findIndex(
+    (tr) => getTrackReferenceId(tr) === getTrackReferenceId(moveBack)
+  );
+  if (indexForward === -1 && indexBack !== -1) {
+    trackReferences.splice(indexBack, 1, moveForward);
+    return trackReferences;
+  }
+  if (indexForward !== -1 && indexBack === -1) {
+    trackReferences.splice(indexForward, 1, moveBack);
+    return trackReferences;
+  }
+  if (indexForward === -1 || indexBack === -1) {
+    return trackReferences;
+  }
+  trackReferences.splice(indexForward, 1, moveBack);
+  trackReferences.splice(indexBack, 1, moveForward);
   return trackReferences;
 }
 function dropItem(itemToDrop, list) {
   const indexOfElementToDrop = findIndex(itemToDrop, list);
+  if (indexOfElementToDrop === -1) return list;
   list.splice(indexOfElementToDrop, 1);
   return list;
 }
diff --git a/node_modules/@livekit/components-core/src/sorting/tile-array-update.ts b/node_modules/@livekit/components-core/src/sorting/tile-array-update.ts
index adf0acd..b6d78d2 100644
--- a/node_modules/@livekit/components-core/src/sorting/tile-array-update.ts
+++ b/node_modules/@livekit/components-core/src/sorting/tile-array-update.ts
@@ -36,13 +36,6 @@ export function findIndex<T extends UpdatableItem>(
     (trackReference_) =>
       getTrackReferenceId(trackReference_) === getTrackReferenceId(trackReference),
   );
-  if (indexToReplace === -1) {
-    throw new Error(
-      `Element not part of the array: ${getTrackReferenceId(
-        trackReference,
-      )} not in ${flatTrackReferenceArray(trackReferences)}`,
-    );
-  }
   return indexToReplace;
 }
 
@@ -52,18 +45,33 @@ export function swapItems<T extends UpdatableItem>(
   moveBack: T,
   trackReferences: T[],
 ): T[] {
-  const indexToReplace = findIndex(moveForward, trackReferences);
-  const indexReplaceWith = findIndex(moveBack, trackReferences);
-
-  trackReferences.splice(indexToReplace, 1, moveBack);
-  trackReferences.splice(indexReplaceWith, 1, moveForward);
-
+  const indexForward = trackReferences.findIndex(
+    (tr) => getTrackReferenceId(tr) === getTrackReferenceId(moveForward),
+  );
+  const indexBack = trackReferences.findIndex(
+    (tr) => getTrackReferenceId(tr) === getTrackReferenceId(moveBack),
+  );
+  // Handle replacement case: when switching camera <-> screen_share, the "added" item
+  // may not be in the list yet. Replace instead of swap.
+  if (indexForward === -1 && indexBack !== -1) {
+    trackReferences.splice(indexBack, 1, moveForward);
+    return trackReferences;
+  }
+  if (indexForward !== -1 && indexBack === -1) {
+    trackReferences.splice(indexForward, 1, moveBack);
+    return trackReferences;
+  }
+  if (indexForward === -1 || indexBack === -1) {
+    return trackReferences;
+  }
+  trackReferences.splice(indexForward, 1, moveBack);
+  trackReferences.splice(indexBack, 1, moveForward);
   return trackReferences;
 }
 
 export function dropItem<T extends UpdatableItem>(itemToDrop: T, list: T[]): T[] {
   const indexOfElementToDrop = findIndex(itemToDrop, list);
-  // const indexOfElementToDrop = list.findIndex((item) => item === itemToDrop, list);
+  if (indexOfElementToDrop === -1) return list;
   list.splice(indexOfElementToDrop, 1);
   return list;
 }